{"ast":null,"code":"import { identity } from '../util/identity';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function skipLast(skipCount) {\n  return skipCount <= 0 ? identity : operate((source, subscriber) => {\n    let ring = new Array(skipCount);\n    let seen = 0;\n    source.subscribe(createOperatorSubscriber(subscriber, value => {\n      const valueIndex = seen++;\n      if (valueIndex < skipCount) {\n        ring[valueIndex] = value;\n      } else {\n        const index = valueIndex % skipCount;\n        const oldValue = ring[index];\n        ring[index] = value;\n        subscriber.next(oldValue);\n      }\n    }));\n    return () => {\n      ring = null;\n    };\n  });\n}","map":{"version":3,"names":["identity","operate","createOperatorSubscriber","skipLast","skipCount","source","subscriber","ring","Array","seen","subscribe","value","valueIndex","index","oldValue","next"],"sources":["/Users/fabriziovaccaro/Desktop/Fabri45555.github.io/node_modules/rxjs/dist/esm/internal/operators/skipLast.js"],"sourcesContent":["import {identity} from '../util/identity';\nimport {operate} from '../util/lift';\nimport {createOperatorSubscriber} from './OperatorSubscriber';\n\nexport function skipLast(skipCount) {\n  return skipCount <= 0\n    ?\n    identity\n    : operate((source, subscriber) => {\n      let ring = new Array(skipCount);\n      let seen = 0;\n      source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n        const valueIndex = seen++;\n        if (valueIndex < skipCount) {\n          ring[valueIndex] = value;\n        } else {\n          const index = valueIndex % skipCount;\n          const oldValue = ring[index];\n          ring[index] = value;\n          subscriber.next(oldValue);\n        }\n      }));\n      return () => {\n        ring = null;\n      };\n    });\n}\n\n"],"mappings":"AAAA,SAAQA,QAAQ,QAAO,kBAAkB;AACzC,SAAQC,OAAO,QAAO,cAAc;AACpC,SAAQC,wBAAwB,QAAO,sBAAsB;AAE7D,OAAO,SAASC,QAAQA,CAACC,SAAS,EAAE;EAClC,OAAOA,SAAS,IAAI,CAAC,GAEnBJ,QAAQ,GACNC,OAAO,CAAC,CAACI,MAAM,EAAEC,UAAU,KAAK;IAChC,IAAIC,IAAI,GAAG,IAAIC,KAAK,CAACJ,SAAS,CAAC;IAC/B,IAAIK,IAAI,GAAG,CAAC;IACZJ,MAAM,CAACK,SAAS,CAACR,wBAAwB,CAACI,UAAU,EAAGK,KAAK,IAAK;MAC/D,MAAMC,UAAU,GAAGH,IAAI,EAAE;MACzB,IAAIG,UAAU,GAAGR,SAAS,EAAE;QAC1BG,IAAI,CAACK,UAAU,CAAC,GAAGD,KAAK;MAC1B,CAAC,MAAM;QACL,MAAME,KAAK,GAAGD,UAAU,GAAGR,SAAS;QACpC,MAAMU,QAAQ,GAAGP,IAAI,CAACM,KAAK,CAAC;QAC5BN,IAAI,CAACM,KAAK,CAAC,GAAGF,KAAK;QACnBL,UAAU,CAACS,IAAI,CAACD,QAAQ,CAAC;MAC3B;IACF,CAAC,CAAC,CAAC;IACH,OAAO,MAAM;MACXP,IAAI,GAAG,IAAI;IACb,CAAC;EACH,CAAC,CAAC;AACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}