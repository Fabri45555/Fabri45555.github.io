{"ast":null,"code":"import { asyncScheduler } from '../scheduler/async';\nimport { isValidDate } from '../util/isDate';\nimport { operate } from '../util/lift';\nimport { innerFrom } from '../observable/innerFrom';\nimport { createErrorClass } from '../util/createErrorClass';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { executeSchedule } from '../util/executeSchedule';\nexport const TimeoutError = createErrorClass(_super => function TimeoutErrorImpl(info = null) {\n  _super(this);\n  this.message = 'Timeout has occurred';\n  this.name = 'TimeoutError';\n  this.info = info;\n});\nexport function timeout(config, schedulerArg) {\n  const {\n    first,\n    each,\n    with: _with = timeoutErrorFactory,\n    scheduler = schedulerArg !== null && schedulerArg !== void 0 ? schedulerArg : asyncScheduler,\n    meta = null\n  } = isValidDate(config) ? {\n    first: config\n  } : typeof config === 'number' ? {\n    each: config\n  } : config;\n  if (first == null && each == null) {\n    throw new TypeError('No timeout provided.');\n  }\n  return operate((source, subscriber) => {\n    let originalSourceSubscription;\n    let timerSubscription;\n    let lastValue = null;\n    let seen = 0;\n    const startTimer = delay => {\n      timerSubscription = executeSchedule(subscriber, scheduler, () => {\n        try {\n          originalSourceSubscription.unsubscribe();\n          innerFrom(_with({\n            meta,\n            lastValue,\n            seen\n          })).subscribe(subscriber);\n        } catch (err) {\n          subscriber.error(err);\n        }\n      }, delay);\n    };\n    originalSourceSubscription = source.subscribe(createOperatorSubscriber(subscriber, value => {\n      timerSubscription === null || timerSubscription === void 0 ? void 0 : timerSubscription.unsubscribe();\n      seen++;\n      subscriber.next(lastValue = value);\n      each > 0 && startTimer(each);\n    }, undefined, undefined, () => {\n      if (!(timerSubscription === null || timerSubscription === void 0 ? void 0 : timerSubscription.closed)) {\n        timerSubscription === null || timerSubscription === void 0 ? void 0 : timerSubscription.unsubscribe();\n      }\n      lastValue = null;\n    }));\n    !seen && startTimer(first != null ? typeof first === 'number' ? first : +first - scheduler.now() : each);\n  });\n}\nfunction timeoutErrorFactory(info) {\n  throw new TimeoutError(info);\n}","map":{"version":3,"names":["asyncScheduler","isValidDate","operate","innerFrom","createErrorClass","createOperatorSubscriber","executeSchedule","TimeoutError","_super","TimeoutErrorImpl","info","message","name","timeout","config","schedulerArg","first","each","with","_with","timeoutErrorFactory","scheduler","meta","TypeError","source","subscriber","originalSourceSubscription","timerSubscription","lastValue","seen","startTimer","delay","unsubscribe","subscribe","err","error","value","next","undefined","closed","now"],"sources":["/Users/fabriziovaccaro/Desktop/Fabri45555.github.io/node_modules/rxjs/dist/esm/internal/operators/timeout.js"],"sourcesContent":["import {asyncScheduler} from '../scheduler/async';\nimport {isValidDate} from '../util/isDate';\nimport {operate} from '../util/lift';\nimport {innerFrom} from '../observable/innerFrom';\nimport {createErrorClass} from '../util/createErrorClass';\nimport {createOperatorSubscriber} from './OperatorSubscriber';\nimport {executeSchedule} from '../util/executeSchedule';\n\nexport const TimeoutError = createErrorClass((_super) => function TimeoutErrorImpl(info = null) {\n  _super(this);\n  this.message = 'Timeout has occurred';\n  this.name = 'TimeoutError';\n  this.info = info;\n});\n\nexport function timeout(config, schedulerArg) {\n  const {\n    first,\n    each,\n    with: _with = timeoutErrorFactory,\n    scheduler = schedulerArg !== null && schedulerArg !== void 0 ? schedulerArg : asyncScheduler,\n    meta = null,\n  } = (isValidDate(config) ? {first: config} : typeof config === 'number' ? {each: config} : config);\n  if (first == null && each == null) {\n    throw new TypeError('No timeout provided.');\n  }\n  return operate((source, subscriber) => {\n    let originalSourceSubscription;\n    let timerSubscription;\n    let lastValue = null;\n    let seen = 0;\n    const startTimer = (delay) => {\n      timerSubscription = executeSchedule(subscriber, scheduler, () => {\n        try {\n          originalSourceSubscription.unsubscribe();\n          innerFrom(_with({\n            meta,\n            lastValue,\n            seen,\n          })).subscribe(subscriber);\n        } catch (err) {\n          subscriber.error(err);\n        }\n      }, delay);\n    };\n    originalSourceSubscription = source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n      timerSubscription === null || timerSubscription === void 0 ? void 0 : timerSubscription.unsubscribe();\n      seen++;\n      subscriber.next((lastValue = value));\n      each > 0 && startTimer(each);\n    }, undefined, undefined, () => {\n      if (!(timerSubscription === null || timerSubscription === void 0 ? void 0 : timerSubscription.closed)) {\n        timerSubscription === null || timerSubscription === void 0 ? void 0 : timerSubscription.unsubscribe();\n      }\n      lastValue = null;\n    }));\n    !seen && startTimer(first != null ? (typeof first === 'number' ? first : +first - scheduler.now()) : each);\n  });\n}\n\nfunction timeoutErrorFactory(info) {\n  throw new TimeoutError(info);\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}