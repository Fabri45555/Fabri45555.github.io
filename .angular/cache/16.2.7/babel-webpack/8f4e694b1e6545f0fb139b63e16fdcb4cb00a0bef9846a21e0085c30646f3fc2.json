{"ast":null,"code":"import { innerFrom } from '../observable/innerFrom';\nimport { Observable } from '../Observable';\nimport { mergeMap } from '../operators/mergeMap';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isFunction } from '../util/isFunction';\nimport { mapOneOrManyArgs } from '../util/mapOneOrManyArgs';\nconst nodeEventEmitterMethods = ['addListener', 'removeListener'];\nconst eventTargetMethods = ['addEventListener', 'removeEventListener'];\nconst jqueryMethods = ['on', 'off'];\nexport function fromEvent(target, eventName, options, resultSelector) {\n  if (isFunction(options)) {\n    resultSelector = options;\n    options = undefined;\n  }\n  if (resultSelector) {\n    return fromEvent(target, eventName, options).pipe(mapOneOrManyArgs(resultSelector));\n  }\n  const [add, remove] = isEventTarget(target) ? eventTargetMethods.map(methodName => handler => target[methodName](eventName, handler, options)) : isNodeStyleEventEmitter(target) ? nodeEventEmitterMethods.map(toCommonHandlerRegistry(target, eventName)) : isJQueryStyleEventEmitter(target) ? jqueryMethods.map(toCommonHandlerRegistry(target, eventName)) : [];\n  if (!add) {\n    if (isArrayLike(target)) {\n      return mergeMap(subTarget => fromEvent(subTarget, eventName, options))(innerFrom(target));\n    }\n  }\n  if (!add) {\n    throw new TypeError('Invalid event target');\n  }\n  return new Observable(subscriber => {\n    const handler = (...args) => subscriber.next(1 < args.length ? args : args[0]);\n    add(handler);\n    return () => remove(handler);\n  });\n}\nfunction toCommonHandlerRegistry(target, eventName) {\n  return methodName => handler => target[methodName](eventName, handler);\n}\nfunction isNodeStyleEventEmitter(target) {\n  return isFunction(target.addListener) && isFunction(target.removeListener);\n}\nfunction isJQueryStyleEventEmitter(target) {\n  return isFunction(target.on) && isFunction(target.off);\n}\nfunction isEventTarget(target) {\n  return isFunction(target.addEventListener) && isFunction(target.removeEventListener);\n}","map":{"version":3,"names":["innerFrom","Observable","mergeMap","isArrayLike","isFunction","mapOneOrManyArgs","nodeEventEmitterMethods","eventTargetMethods","jqueryMethods","fromEvent","target","eventName","options","resultSelector","undefined","pipe","add","remove","isEventTarget","map","methodName","handler","isNodeStyleEventEmitter","toCommonHandlerRegistry","isJQueryStyleEventEmitter","subTarget","TypeError","subscriber","args","next","length","addListener","removeListener","on","off","addEventListener","removeEventListener"],"sources":["/Users/fabriziovaccaro/Desktop/Fabri45555.github.io/node_modules/rxjs/dist/esm/internal/observable/fromEvent.js"],"sourcesContent":["import {innerFrom} from '../observable/innerFrom';\nimport {Observable} from '../Observable';\nimport {mergeMap} from '../operators/mergeMap';\nimport {isArrayLike} from '../util/isArrayLike';\nimport {isFunction} from '../util/isFunction';\nimport {mapOneOrManyArgs} from '../util/mapOneOrManyArgs';\n\nconst nodeEventEmitterMethods = ['addListener', 'removeListener'];\nconst eventTargetMethods = ['addEventListener', 'removeEventListener'];\nconst jqueryMethods = ['on', 'off'];\n\nexport function fromEvent(target, eventName, options, resultSelector) {\n  if (isFunction(options)) {\n    resultSelector = options;\n    options = undefined;\n  }\n  if (resultSelector) {\n    return fromEvent(target, eventName, options).pipe(mapOneOrManyArgs(resultSelector));\n  }\n  const [add, remove] = isEventTarget(target)\n    ? eventTargetMethods.map((methodName) => (handler) => target[methodName](eventName, handler, options))\n    :\n    isNodeStyleEventEmitter(target)\n      ? nodeEventEmitterMethods.map(toCommonHandlerRegistry(target, eventName))\n      : isJQueryStyleEventEmitter(target)\n        ? jqueryMethods.map(toCommonHandlerRegistry(target, eventName))\n        : [];\n  if (!add) {\n    if (isArrayLike(target)) {\n      return mergeMap((subTarget) => fromEvent(subTarget, eventName, options))(innerFrom(target));\n    }\n  }\n  if (!add) {\n    throw new TypeError('Invalid event target');\n  }\n  return new Observable((subscriber) => {\n    const handler = (...args) => subscriber.next(1 < args.length ? args : args[0]);\n    add(handler);\n    return () => remove(handler);\n  });\n}\n\nfunction toCommonHandlerRegistry(target, eventName) {\n  return (methodName) => (handler) => target[methodName](eventName, handler);\n}\n\nfunction isNodeStyleEventEmitter(target) {\n  return isFunction(target.addListener) && isFunction(target.removeListener);\n}\n\nfunction isJQueryStyleEventEmitter(target) {\n  return isFunction(target.on) && isFunction(target.off);\n}\n\nfunction isEventTarget(target) {\n  return isFunction(target.addEventListener) && isFunction(target.removeEventListener);\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}